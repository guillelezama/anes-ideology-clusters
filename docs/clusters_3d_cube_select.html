<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.12.1.min.js"></script>                <div id="cube_plot" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("cube_plot")) {                    Plotly.newPlot(                        "cube_plot",                        [{"hovertemplate":"%{text}","marker":{"color":[2.85,3.37,4.22,1.79,4.29,5.2,4.77,4.87,5.62,4.15,5.21,3.45,6.35,6.02,2.09,2.06,2.35],"colorbar":{"title":{"text":"Party ID (mean)"}},"showscale":true,"size":[8.1,7.98,7.5,9.21,6.63,7.71,6.75,7.14,7.5600000000000005,6.84,8.43,8.22,8.22,7.71,8.22,8.52,7.29]},"mode":"markers","name":"Clusters","text":["Cluster 0<br>Population share (weighted): 7.0% \u00b7 Sample size (n): 279<br>Avg Party ID: 2.85 (p10\u2013p90: 1.00\u20135.00)<br>Vote (weighted): Harris 58.9% \u00b7 Trump 12.6% \u00b7 Other 10.1% \u00b7 Non-voting 12.4% \u00b7 Unknown 6.0%<br>Gender (weighted): Man 43.1% \u00b7 Woman 51.3% \u00b7 Nonbinary 4.8% \u00b7 Other 0.8%<br>Race & Hispanic (weighted): White NH 51.5% \u00b7 Black NH 15.1% \u00b7 Hispanic 18.4% \u00b7 Asian/NHPI NH 4.8% \u00b7 Native/Other NH 0.3% \u00b7 Multiracial NH 9.8%<br>Education (weighted): College 80.6% | No college 18.9%<br>Economic vulnerability (higher=worse): mean 2.97 (p20\u2013p80: 2.00\u20134.00)<br>Homogeneity: avg z-dist 4.7161, feature z-std 0.6837, domain dispersion 0.2558","Cluster 1<br>Population share (weighted): 6.6% \u00b7 Sample size (n): 429<br>Avg Party ID: 3.37 (p10\u2013p90: 1.00\u20136.00)<br>Vote (weighted): Harris 57.4% \u00b7 Trump 22.1% \u00b7 Other 5.8% \u00b7 Non-voting 5.9% \u00b7 Unknown 8.7%<br>Gender (weighted): Man 55.3% \u00b7 Woman 42.7% \u00b7 Nonbinary 0.4% \u00b7 Other 1.0%<br>Race & Hispanic (weighted): White NH 80.0% \u00b7 Black NH 0.5% \u00b7 Hispanic 11.0% \u00b7 Asian/NHPI NH 6.3% \u00b7 Native/Other NH 0.0% \u00b7 Multiracial NH 0.5%<br>Education (weighted): College 72.6% | No college 25.6%<br>Economic vulnerability (higher=worse): mean 2.72 (p20\u2013p80: 2.00\u20134.00)<br>Homogeneity: avg z-dist 4.4463, feature z-std 0.6726, domain dispersion 0.3175","Cluster 2<br>Population share (weighted): 5.0% \u00b7 Sample size (n): 223<br>Avg Party ID: 4.22 (p10\u2013p90: 2.00\u20137.00)<br>Vote (weighted): Harris 26.4% \u00b7 Trump 38.9% \u00b7 Other 6.5% \u00b7 Non-voting 24.3% \u00b7 Unknown 3.9%<br>Gender (weighted): Man 35.7% \u00b7 Woman 63.6% \u00b7 Nonbinary 0.2% \u00b7 Other 0.4%<br>Race & Hispanic (weighted): White NH 61.8% \u00b7 Black NH 15.5% \u00b7 Hispanic 15.9% \u00b7 Asian/NHPI NH 1.9% \u00b7 Native/Other NH 0.2% \u00b7 Multiracial NH 2.7%<br>Education (weighted): College 46.5% | No college 52.7%<br>Economic vulnerability (higher=worse): mean 3.61 (p20\u2013p80: 2.00\u20135.00)<br>Homogeneity: avg z-dist 6.3082, feature z-std 0.8841, domain dispersion 0.5293","Cluster 3<br>Population share (weighted): 10.7% \u00b7 Sample size (n): 558<br>Avg Party ID: 1.79 (p10\u2013p90: 1.00\u20133.00)<br>Vote (weighted): Harris 83.3% \u00b7 Trump 0.3% \u00b7 Other 2.8% \u00b7 Non-voting 4.0% \u00b7 Unknown 9.7%<br>Gender (weighted): Man 41.9% \u00b7 Woman 50.6% \u00b7 Nonbinary 7.0% \u00b7 Other 0.1%<br>Race & Hispanic (weighted): White NH 52.9% \u00b7 Black NH 17.3% \u00b7 Hispanic 18.2% \u00b7 Asian/NHPI NH 6.0% \u00b7 Native/Other NH 0.2% \u00b7 Multiracial NH 5.3%<br>Education (weighted): College 79.6% | No college 19.3%<br>Economic vulnerability (higher=worse): mean 2.62 (p20\u2013p80: 2.00\u20133.00)<br>Homogeneity: avg z-dist 3.5365, feature z-std 0.5047, domain dispersion 0.4490","Cluster 4<br>Population share (weighted): 2.1% \u00b7 Sample size (n): 98<br>Avg Party ID: 4.29 (p10\u2013p90: 1.00\u20137.00)<br>Vote (weighted): Harris 26.2% \u00b7 Trump 37.0% \u00b7 Other 4.5% \u00b7 Non-voting 28.2% \u00b7 Unknown 4.1%<br>Gender (weighted): Man 41.6% \u00b7 Woman 54.7% \u00b7 Nonbinary 1.3% \u00b7 Other 2.5%<br>Race & Hispanic (weighted): White NH 44.6% \u00b7 Black NH 17.3% \u00b7 Hispanic 18.3% \u00b7 Asian/NHPI NH 4.0% \u00b7 Native/Other NH 2.8% \u00b7 Multiracial NH 13.0%<br>Education (weighted): College 46.9% | No college 51.5%<br>Economic vulnerability (higher=worse): mean 4.22 (p20\u2013p80: 2.00\u20136.00)<br>Homogeneity: avg z-dist 6.0676, feature z-std 0.8909, domain dispersion 1.0281","Cluster 5<br>Population share (weighted): 5.7% \u00b7 Sample size (n): 335<br>Avg Party ID: 5.20 (p10\u2013p90: 2.00\u20137.00)<br>Vote (weighted): Harris 22.9% \u00b7 Trump 65.2% \u00b7 Other 0.4% \u00b7 Non-voting 2.8% \u00b7 Unknown 8.7%<br>Gender (weighted): Man 46.5% \u00b7 Woman 51.5% \u00b7 Nonbinary 0.0% \u00b7 Other 0.0%<br>Race & Hispanic (weighted): White NH 76.2% \u00b7 Black NH 4.3% \u00b7 Hispanic 12.6% \u00b7 Asian/NHPI NH 5.3% \u00b7 Native/Other NH 0.0% \u00b7 Multiracial NH 0.9%<br>Education (weighted): College 70.9% | No college 29.1%<br>Economic vulnerability (higher=worse): mean 2.91 (p20\u2013p80: 2.00\u20134.00)<br>Homogeneity: avg z-dist 4.5879, feature z-std 0.6630, domain dispersion 0.2481","Cluster 6<br>Population share (weighted): 2.5% \u00b7 Sample size (n): 57<br>Avg Party ID: 4.77 (p10\u2013p90: 2.00\u20137.00)<br>Vote (weighted): Harris 10.5% \u00b7 Trump 44.3% \u00b7 Other 7.2% \u00b7 Non-voting 34.0% \u00b7 Unknown 4.0%<br>Gender (weighted): Man 55.1% \u00b7 Woman 44.9% \u00b7 Nonbinary 0.0% \u00b7 Other 0.0%<br>Race & Hispanic (weighted): White NH 47.9% \u00b7 Black NH 10.6% \u00b7 Hispanic 29.5% \u00b7 Asian/NHPI NH 4.3% \u00b7 Native/Other NH 0.4% \u00b7 Multiracial NH 7.3%<br>Education (weighted): College 41.7% | No college 58.3%<br>Economic vulnerability (higher=worse): mean 3.28 (p20\u2013p80: 2.00\u20134.00)<br>Homogeneity: avg z-dist 9.8708, feature z-std 1.3599, domain dispersion 0.6144","Cluster 7<br>Population share (weighted): 3.8% \u00b7 Sample size (n): 256<br>Avg Party ID: 4.87 (p10\u2013p90: 2.00\u20137.00)<br>Vote (weighted): Harris 22.5% \u00b7 Trump 59.3% \u00b7 Other 1.7% \u00b7 Non-voting 11.3% \u00b7 Unknown 5.2%<br>Gender (weighted): Man 33.7% \u00b7 Woman 66.1% \u00b7 Nonbinary 0.2% \u00b7 Other 0.0%<br>Race & Hispanic (weighted): White NH 78.4% \u00b7 Black NH 4.7% \u00b7 Hispanic 8.6% \u00b7 Asian/NHPI NH 5.1% \u00b7 Native/Other NH 0.5% \u00b7 Multiracial NH 1.9%<br>Education (weighted): College 55.6% | No college 43.2%<br>Economic vulnerability (higher=worse): mean 3.54 (p20\u2013p80: 2.00\u20135.00)<br>Homogeneity: avg z-dist 5.3571, feature z-std 0.7727, domain dispersion 0.2845","Cluster 8<br>Population share (weighted): 5.2% \u00b7 Sample size (n): 120<br>Avg Party ID: 5.62 (p10\u2013p90: 4.00\u20137.00)<br>Vote (weighted): Harris 5.5% \u00b7 Trump 70.8% \u00b7 Other 4.1% \u00b7 Non-voting 9.7% \u00b7 Unknown 9.9%<br>Gender (weighted): Man 50.0% \u00b7 Woman 49.3% \u00b7 Nonbinary 0.0% \u00b7 Other 0.0%<br>Race & Hispanic (weighted): White NH 82.5% \u00b7 Black NH 1.2% \u00b7 Hispanic 9.5% \u00b7 Asian/NHPI NH 1.1% \u00b7 Native/Other NH 1.0% \u00b7 Multiracial NH 3.7%<br>Education (weighted): College 46.6% | No college 51.5%<br>Economic vulnerability (higher=worse): mean 2.79 (p20\u2013p80: 2.00\u20133.19)<br>Homogeneity: avg z-dist 8.4453, feature z-std 1.1903, domain dispersion 0.4548","Cluster 9<br>Population share (weighted): 2.8% \u00b7 Sample size (n): 121<br>Avg Party ID: 4.15 (p10\u2013p90: 2.00\u20137.00)<br>Vote (weighted): Harris 30.3% \u00b7 Trump 33.8% \u00b7 Other 1.7% \u00b7 Non-voting 29.4% \u00b7 Unknown 4.8%<br>Gender (weighted): Man 59.5% \u00b7 Woman 37.2% \u00b7 Nonbinary 0.6% \u00b7 Other 2.0%<br>Race & Hispanic (weighted): White NH 50.7% \u00b7 Black NH 8.5% \u00b7 Hispanic 15.0% \u00b7 Asian/NHPI NH 15.8% \u00b7 Native/Other NH 1.0% \u00b7 Multiracial NH 8.1%<br>Education (weighted): College 43.7% | No college 56.1%<br>Economic vulnerability (higher=worse): mean 3.47 (p20\u2013p80: 2.00\u20135.00)<br>Homogeneity: avg z-dist 6.3592, feature z-std 0.8995, domain dispersion 0.6441","Cluster 10<br>Population share (weighted): 8.1% \u00b7 Sample size (n): 419<br>Avg Party ID: 5.21 (p10\u2013p90: 3.00\u20137.00)<br>Vote (weighted): Harris 10.3% \u00b7 Trump 66.1% \u00b7 Other 1.5% \u00b7 Non-voting 13.9% \u00b7 Unknown 8.2%<br>Gender (weighted): Man 63.5% \u00b7 Woman 35.8% \u00b7 Nonbinary 0.1% \u00b7 Other 0.5%<br>Race & Hispanic (weighted): White NH 63.5% \u00b7 Black NH 3.5% \u00b7 Hispanic 16.6% \u00b7 Asian/NHPI NH 5.5% \u00b7 Native/Other NH 0.2% \u00b7 Multiracial NH 7.2%<br>Education (weighted): College 51.2% | No college 48.8%<br>Economic vulnerability (higher=worse): mean 2.91 (p20\u2013p80: 2.00\u20134.00)<br>Homogeneity: avg z-dist 4.5868, feature z-std 0.6784, domain dispersion 0.3304","Cluster 11<br>Population share (weighted): 7.4% \u00b7 Sample size (n): 318<br>Avg Party ID: 3.45 (p10\u2013p90: 1.00\u20136.08)<br>Vote (weighted): Harris 36.7% \u00b7 Trump 28.7% \u00b7 Other 6.0% \u00b7 Non-voting 16.9% \u00b7 Unknown 11.8%<br>Gender (weighted): Man 34.1% \u00b7 Woman 63.6% \u00b7 Nonbinary 0.9% \u00b7 Other 0.9%<br>Race & Hispanic (weighted): White NH 41.2% \u00b7 Black NH 35.8% \u00b7 Hispanic 13.8% \u00b7 Asian/NHPI NH 4.2% \u00b7 Native/Other NH 0.6% \u00b7 Multiracial NH 3.2%<br>Education (weighted): College 46.8% | No college 52.5%<br>Economic vulnerability (higher=worse): mean 3.82 (p20\u2013p80: 2.00\u20135.00)<br>Homogeneity: avg z-dist 5.5900, feature z-std 0.7719, domain dispersion 0.3194","Cluster 12<br>Population share (weighted): 7.4% \u00b7 Sample size (n): 585<br>Avg Party ID: 6.35 (p10\u2013p90: 5.00\u20137.00)<br>Vote (weighted): Harris 2.2% \u00b7 Trump 83.9% \u00b7 Other 2.7% \u00b7 Non-voting 3.9% \u00b7 Unknown 7.3%<br>Gender (weighted): Man 61.9% \u00b7 Woman 37.1% \u00b7 Nonbinary 0.0% \u00b7 Other 0.3%<br>Race & Hispanic (weighted): White NH 82.7% \u00b7 Black NH 1.7% \u00b7 Hispanic 2.0% \u00b7 Asian/NHPI NH 0.7% \u00b7 Native/Other NH 0.2% \u00b7 Multiracial NH 9.1%<br>Education (weighted): College 68.7% | No college 30.6%<br>Economic vulnerability (higher=worse): mean 2.74 (p20\u2013p80: 2.00\u20134.00)<br>Homogeneity: avg z-dist 3.9956, feature z-std 0.5704, domain dispersion 0.4058","Cluster 13<br>Population share (weighted): 5.7% \u00b7 Sample size (n): 172<br>Avg Party ID: 6.02 (p10\u2013p90: 5.00\u20137.00)<br>Vote (weighted): Harris 4.6% \u00b7 Trump 85.7% \u00b7 Other 2.7% \u00b7 Non-voting 4.2% \u00b7 Unknown 2.7%<br>Gender (weighted): Man 54.9% \u00b7 Woman 44.8% \u00b7 Nonbinary 0.0% \u00b7 Other 0.3%<br>Race & Hispanic (weighted): White NH 86.7% \u00b7 Black NH 2.3% \u00b7 Hispanic 6.2% \u00b7 Asian/NHPI NH 1.5% \u00b7 Native/Other NH 0.3% \u00b7 Multiracial NH 2.7%<br>Education (weighted): College 63.3% | No college 36.4%<br>Economic vulnerability (higher=worse): mean 2.66 (p20\u2013p80: 2.00\u20134.00)<br>Homogeneity: avg z-dist 7.1570, feature z-std 0.9717, domain dispersion 0.4071","Cluster 14<br>Population share (weighted): 7.4% \u00b7 Sample size (n): 214<br>Avg Party ID: 2.09 (p10\u2013p90: 1.00\u20134.00)<br>Vote (weighted): Harris 83.7% \u00b7 Trump 5.8% \u00b7 Other 0.6% \u00b7 Non-voting 1.4% \u00b7 Unknown 8.5%<br>Gender (weighted): Man 51.7% \u00b7 Woman 47.6% \u00b7 Nonbinary 0.2% \u00b7 Other 0.0%<br>Race & Hispanic (weighted): White NH 71.0% \u00b7 Black NH 12.2% \u00b7 Hispanic 6.7% \u00b7 Asian/NHPI NH 8.4% \u00b7 Native/Other NH 0.3% \u00b7 Multiracial NH 1.5%<br>Education (weighted): College 81.5% | No college 18.5%<br>Economic vulnerability (higher=worse): mean 2.42 (p20\u2013p80: 2.00\u20133.00)<br>Homogeneity: avg z-dist 6.6587, feature z-std 0.9283, domain dispersion 0.3807","Cluster 15<br>Population share (weighted): 8.4% \u00b7 Sample size (n): 458<br>Avg Party ID: 2.06 (p10\u2013p90: 1.00\u20133.00)<br>Vote (weighted): Harris 82.5% \u00b7 Trump 5.5% \u00b7 Other 0.6% \u00b7 Non-voting 1.9% \u00b7 Unknown 9.6%<br>Gender (weighted): Man 43.8% \u00b7 Woman 53.7% \u00b7 Nonbinary 2.5% \u00b7 Other 0.0%<br>Race & Hispanic (weighted): White NH 59.6% \u00b7 Black NH 14.3% \u00b7 Hispanic 19.1% \u00b7 Asian/NHPI NH 3.4% \u00b7 Native/Other NH 0.0% \u00b7 Multiracial NH 3.4%<br>Education (weighted): College 84.2% | No college 15.8%<br>Economic vulnerability (higher=worse): mean 2.66 (p20\u2013p80: 2.00\u20134.00)<br>Homogeneity: avg z-dist 3.9021, feature z-std 0.5668, domain dispersion 0.3045","Cluster 16<br>Population share (weighted): 4.3% \u00b7 Sample size (n): 112<br>Avg Party ID: 2.35 (p10\u2013p90: 1.00\u20134.15)<br>Vote (weighted): Harris 70.6% \u00b7 Trump 7.7% \u00b7 Other 6.1% \u00b7 Non-voting 8.5% \u00b7 Unknown 7.2%<br>Gender (weighted): Man 49.6% \u00b7 Woman 46.4% \u00b7 Nonbinary 2.4% \u00b7 Other 1.5%<br>Race & Hispanic (weighted): White NH 51.7% \u00b7 Black NH 17.8% \u00b7 Hispanic 14.8% \u00b7 Asian/NHPI NH 6.2% \u00b7 Native/Other NH 0.0% \u00b7 Multiracial NH 8.0%<br>Education (weighted): College 80.5% | No college 19.5%<br>Economic vulnerability (higher=worse): mean 2.51 (p20\u2013p80: 2.00\u20133.00)<br>Homogeneity: avg z-dist 7.2739, feature z-std 1.0345, domain dispersion 0.3470"],"x":[-0.3675951891396895,-0.3552313318862916,-0.1114274228149553,-0.4989227090210157,2.362546426633197,0.0455245622858707,0.5459900370169517,-0.0480944951839556,0.2121097431866586,2.385306506276072,0.1643938243817165,-0.0625677389299981,0.3512755424639944,0.4494050843805343,-0.3721770864413127,-0.4587005748269623,-0.4160763412341359],"y":[-0.558803291063088,-0.2325811697879096,0.2121787917676506,-0.7982216421193221,0.1345952505039586,0.206022752431542,0.0792321118908469,0.5546764463313169,0.5895912132567653,0.1522336140261736,0.3564673241825598,0.0769243734289352,0.8564478768638616,0.6022915506616043,-0.5214281899057206,-0.5796570806846788,-0.5195423399794058],"z":[-0.38922904665457,-0.1607256303452628,0.1358728879199,-0.9209156234739828,0.1738945438483272,0.2671948315162597,0.0803424113244854,0.3169836775371117,0.5162007011811619,0.2719199175515621,0.6472922135754917,0.1034126291308199,0.8560782819392875,0.7398539145006949,-0.650767486367451,-0.7176612644288933,-0.6864822809577636],"type":"scatter3d"}],                        {"margin":{"b":0,"l":0,"r":0,"t":50},"scene":{"aspectmode":"cube","xaxis":{"range":[-1.067317579766603,2.956495305749848],"title":{"text":"Abortion"},"zeroline":true,"zerolinecolor":"#999"},"yaxis":{"range":[-1.0790581476820351,1.1315897000637563],"title":{"text":"Immigration"},"zeroline":true,"zerolinecolor":"#999"},"zaxis":{"range":[-1.2335703878619446,1.1826578449842888],"title":{"text":"Trans Rights"},"zeroline":true,"zerolinecolor":"#999"}},"title":{"text":"3D Ideology Map \u2014 abortion, immigration, trans_rights"},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}}},                        {"responsive": true}                    )                };                            </script>        </div>
<script>
window.addEventListener('load', function() {
  const gd = document.getElementById('cube_plot');
  const payload = {"arrays": {"abortion": [-0.3675951891396895, -0.3552313318862916, -0.1114274228149553, -0.4989227090210157, 2.362546426633197, 0.0455245622858707, 0.5459900370169517, -0.0480944951839556, 0.2121097431866586, 2.385306506276072, 0.1643938243817165, -0.0625677389299981, 0.3512755424639944, 0.4494050843805343, -0.3721770864413127, -0.4587005748269623, -0.4160763412341359], "immigration": [-0.558803291063088, -0.2325811697879096, 0.2121787917676506, -0.7982216421193221, 0.1345952505039586, 0.206022752431542, 0.0792321118908469, 0.5546764463313169, 0.5895912132567653, 0.1522336140261736, 0.3564673241825598, 0.0769243734289352, 0.8564478768638616, 0.6022915506616043, -0.5214281899057206, -0.5796570806846788, -0.5195423399794058], "redistribution": [-0.2174446419411418, 0.0302295178822826, 0.0495213694419615, -0.3835037777727501, -0.0239052878309508, 0.1681454642961541, -0.0417534082055347, 0.0680942027494345, 0.2664040060543067, -0.1374268496326215, 0.2963332596719049, -0.2951442612428729, 0.4503505349381951, 0.3647834141756836, -0.2112206369139585, -0.2308217674362649, -0.3439512885200293], "environment": [-0.2381728801004907, -0.348186504308516, 0.8661123152712593, -0.6059195440884791, 1.3444050977288675, 0.0817323365467075, 0.4270784497319159, 0.1266600965926867, 0.3145338734633985, 0.3372019668355505, 0.2877583305165102, 0.0586729390089396, 0.4841998236285044, 0.4174988771713646, -0.5253873197950807, -0.5414742904843597, -0.4620801738513025], "health": [-0.2373678345174053, -0.2140583968126724, 1.425847801257626, -0.2780414233131613, 2.7180846532177454, -0.1222492164677258, 0.6353798507248609, 0.0291808204193648, -0.0092366552478764, 0.2782068184421301, -0.0887862282181915, 0.040215826590118, -0.142535075060634, -0.1125124976622163, -0.2173835671375591, -0.2428981928481238, -0.1910790947460448], "defense": [0.1359684802405381, -0.2328549050676699, 1.4797259733163628, -0.2535265433642937, 2.1106372089171783, -0.253658637766903, 0.4656618854624832, -0.0768927469246583, 0.0159616830562848, 0.6892078520792261, -0.1852020982388251, 0.241731366769593, -0.2601026674293454, -0.2380456566574746, -0.2496051751143561, -0.1737975715543854, -0.1213832022042642], "religion": [-0.3628310126409432, -0.5519675703861675, -0.2006071666697431, -0.2006071666697431, 0.0311411847176858, 0.2323963319751898, -0.2676922157555777, -0.2330519358639831, -0.3164813423634575, 0.3092392063826005, -0.0847329909760286, -0.0004608631987817, -0.2052421336974916, 1.0167532909124568, -0.0533278405543677, -0.338207750306029, -0.3785567936279473], "racial_disparity": [-0.0323524983044447, 0.0196018621824356, 0.1018872272846293, 0.0675692820828965, 0.1414113468846625, 0.0010439630236808, -0.0406416700385854, 0.1104216878243662, 0.057161437235611, 0.1038387045421911, -0.0414031823754269, 0.0137013072633588, -0.0025103551202382, -0.0259190584275885, -0.0218943514815937, -0.08463786236266, -0.0082118458100877], "efficacy_trust_corrupt": [0.0427028775964235, -0.0962168409789348, -0.0496314132811914, 0.1623301338507258, -0.4959084082929608, -0.0573442746036362, -0.0623563183865644, -0.2310191574654788, 0.7877806384535304, -0.0622828667172363, 0.1235912289575527, 0.0973297797589023, -0.2377255983533887, 0.3343674941238799, -0.8806416522829168, -0.0103709171648144, 0.4877258706973683], "democracy": [-0.0314432128311088, -0.2648971921533319, -0.2008747593799814, -0.2631099391772222, 0.1740491871469814, -0.181626388299356, 2.3340070351244013, -0.2907273622756136, 0.4702008720172189, -0.4190147469907224, -0.1942521614957811, 0.0019833233548119, -0.2751026167013375, -0.2761073681508394, -0.3403235188887534, -0.1689512863040567, -0.0673766162207949], "vaccines": [0.0226499050882923, -0.2976969467863397, -0.4049901507634892, -0.6425679595700345, -0.1080178897553075, -0.1924205323576329, 0.3577596564575246, -0.2434372407750384, 0.723504441067601, -0.5000212742861073, -0.4697840986198197, 0.0053715189932708, -0.0943114777087761, 0.5425585518021508, -0.4160919175301503, -0.5993719943324809, -0.1334726549845803], "israel_aid": [0.0399939487418626, 0.0929019027916082, -0.0148604517779406, 0.0715352290407494, -0.4015839754425532, 0.0665550268882936, -0.106091981063508, -0.0003788900407125, -0.466786958245294, -0.2880353663665605, 0.0629330616865075, 0.0904599972200815, 0.3408492377466293, 0.971561994778753, 0.1069631125992147, -0.2582145195385221, -1.1991277772858346], "ukraine_aid": [0.145792448485785, 0.5326530752844666, 0.0581632668414072, 0.5276053113648596, -0.536463322888299, -0.2152661345301474, -0.5183445071347622, 0.4061763025147932, -1.0059053674117513, -0.4801302775454846, -0.0271898321628567, 0.2914617374530622, 0.2651992454517503, -0.3299088232979799, 0.8576909753756894, 0.2687009110519253, -0.3553928200006817], "gay_rights": [NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN], "trans_rights": [-0.38922904665457, -0.1607256303452628, 0.1358728879199, -0.9209156234739828, 0.1738945438483272, 0.2671948315162597, 0.0803424113244854, 0.3169836775371117, 0.5162007011811619, 0.2719199175515621, 0.6472922135754917, 0.1034126291308199, 0.8560782819392875, 0.7398539145006949, -0.650767486367451, -0.7176612644288933, -0.6864822809577636], "minority_rep": [-0.6114706248215678, 0.6140321929388854, 0.2431580309021284, -0.8349791869354655, 0.2500363879833013, -0.55633100316845, 0.2963831627907972, 0.6208477846384565, 0.5480828305895417, 0.2461098990043953, 0.6875252682857892, -0.0888964142019775, 0.7548012567832284, 0.5783136446395535, -0.4910554858683022, -0.8063573712221004, -0.6219681288642342], "dei_affirmative": [-0.4477688213283477, 0.396728137388216, 0.0665594904061684, -1.3215917440762204, -0.6021194484795761, 0.5583744040443908, -0.1359403393525888, 0.5367142564972007, 0.5407048474115883, -0.1577572368117976, 0.5917441291411735, -1.2043748118353734, 0.790922634383436, 0.6791045180476509, -0.5014414038556518, 0.1946162942521632, -0.5708699466892694], "threat": [-0.6611201820009035, 0.1794513684340678, -0.2573868209329745, -0.0018086988330383, -0.4739892751454342, 0.1371367504988855, -0.2998528060437307, 0.0312010571774582, -0.0356940006569052, -0.1733853191882972, -0.3741494111681923, -0.2080562367691146, 0.5471333126295564, 0.2975577602314956, 0.1206139389503674, 0.1046336952017038, -0.2019631306261509]}, "ranges": {"abortion": [-1.067317579766603, 2.956495305749848], "immigration": [-1.0790581476820351, 1.1315897000637563], "redistribution": [-0.5399424145140164, 0.5994268306378948], "environment": [-0.968305614721314, 1.6405755637451442], "health": [-0.8291675591073316, 3.0680758095727025], "defense": [-0.7128242294642351, 2.463444018001928], "religion": [-0.8097764228033586, 1.1891056140861862], "racial_disparity": [-0.12055497656464627, 0.17928766443495867], "efficacy_trust_corrupt": [-1.1308555750159375, 1.051543117383958], "democracy": [-0.8948685903987392, 2.5242424889315838], "vaccines": [-0.901698545915457, 0.9605950395685598], "israel_aid": [-1.4724734862179405, 1.2611681936322054], "ukraine_aid": [-1.2780905506178175, 1.152980821690912], "gay_rights": [-2.5, 2.5], "trans_rights": [-1.2335703878619446, 1.1826578449842888], "minority_rep": [-1.14528705543032, 1.058924457632631], "dei_affirmative": [-1.718010789055164, 1.1882054899071894], "threat": [-0.8588553291340075, 0.7348773164758458]}, "dims": ["abortion", "immigration", "redistribution", "environment", "health", "defense", "religion", "racial_disparity", "efficacy_trust_corrupt", "democracy", "vaccines", "israel_aid", "ukraine_aid", "gay_rights", "trans_rights", "minority_rep", "dei_affirmative", "threat"], "start": {"x": "abortion", "y": "immigration", "z": "trans_rights"}};
  const wrap = document.createElement('div');
  wrap.style.position='relative';
  gd.parentNode.insertBefore(wrap, gd);
  wrap.appendChild(gd);

  const ctrl = document.createElement('div');
  ctrl.innerHTML = `
<div id="cube_ctrl" style="position:absolute;top:6px;left:6px;background:#fff9;border:1px solid #ccc;border-radius:8px;padding:8px 10px;font-family:sans-serif;z-index:10;">
  <label style="margin-right:8px;font-weight:600;">X:
    <select id="dimX"></select>
  </label>
  <label style="margin-right:8px;font-weight:600;">Y:
    <select id="dimY"></select>
  </label>
  <label style="font-weight:600;">Z:
    <select id="dimZ"></select>
  </label>
</div>
`;
  wrap.appendChild(ctrl);

  function fillSelect(id, defVal) {
    const s = document.getElementById(id);
    payload.dims.forEach(d => {
      const opt = document.createElement('option');
      opt.value = d; opt.text = d.replaceAll('_',' ').replace(/\b\w/g, c => c.toUpperCase());
      s.appendChild(opt);
    });
    if (payload.dims.indexOf(defVal) === -1 && payload.dims.length > 0) {
      defVal = payload.dims[0];
    }
    s.value = defVal;
  }
  fillSelect('dimX', payload.start.x);
  fillSelect('dimY', payload.start.y);
  fillSelect('dimZ', payload.start.z);

  function apply() {
    const dx = document.getElementById('dimX').value;
    const dy = document.getElementById('dimY').value;
    const dz = document.getElementById('dimZ').value;

    // update data
    gd.data[0].x = payload.arrays[dx];
    gd.data[0].y = payload.arrays[dy];
    gd.data[0].z = payload.arrays[dz];

    // update axes + title
    function titleCase(s) { return s.replaceAll('_',' ').replace(/\b\w/g, c => c.toUpperCase()); }
    gd.layout.scene.xaxis.title.text = titleCase(dx);
    gd.layout.scene.yaxis.title.text = titleCase(dy);
    gd.layout.scene.zaxis.title.text = titleCase(dz);
    gd.layout.scene.xaxis.range = payload.ranges[dx];
    gd.layout.scene.yaxis.range = payload.ranges[dy];
    gd.layout.scene.zaxis.range = payload.ranges[dz];
    gd.layout.title.text = '3D Ideology Map — ' + titleCase(dx) + ', ' + titleCase(dy) + ', ' + titleCase(dz);

    Plotly.react(gd, gd.data, gd.layout);
  }

  document.getElementById('dimX').addEventListener('change', apply);
  document.getElementById('dimY').addEventListener('change', apply);
  document.getElementById('dimZ').addEventListener('change', apply);
});
</script>
